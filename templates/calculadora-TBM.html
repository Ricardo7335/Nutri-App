{% extends 'base.html' %}
{% block content %}
<body class="bg-dark text-light">
<section class="py-5 " style="background-color: #6e0e94;">
    <div class="container text-center">
        <h1 class="fw-bold display-5">Calculadora de metabolismo basal (TMB)</h1>
        <p class="mt-3 fs-5">
            Con esta calculadora podrás calcular cuál es tu Tasa Metabólica Basal, 
            también conocido como gasto calórico en reposo.
        </p>
    </div>
</section>
<form method="POST" action="/tmb">
  <div class="container p-4" style="background-color: #0a0f2c"></div>
  <div class="container-fluid">
    <div class="row justify-content-center">
      <div class="col-12 col-lg-5">
        <div class="card w-100 shadow rounded p-4" style="background-color: #ffffff;">
          <div class="card-body">
            <label class="form-label fs-5">Sexo*</label>
            <div class="form-check fs-5 mb-3">
              <input class="form-check-input" type="radio" name="sexo" id="radioHombre" value="hombre">
              <label class="form-check-label" for="radioHombre">Hombre</label>
            </div>
            <div class="form-check fs-5 mb-4">
              <input class="form-check-input" type="radio" name="sexo" id="radioMujer" value="mujer" checked>
              <label class="form-check-label" for="radioMujer">Mujer</label>
            </div>
            <div class="row">
              <div class="mb-4 col-md-6">
                <label for="edadInput" class="form-label fs-5">Edad*</label>
                <input type="number" id="edadInput" class="form-control form-control-lg">
                <label for="rangeEdad" class="form-label fs-5 mt-3">Edad</label>
                <input type="range" class="form-range" min="14" max="100" value="25" id="rangeEdad" name="edad">
              </div>
              <div class="mb-4 col-md-6">
                <label for="alturaInput" class="form-label fs-5">Altura*</label>
                <input type="number" id="alturaInput" class="form-control form-control-lg">
                <label for="rangeAltura" class="form-label fs-5 mt-3">Altura</label>
                <input type="range" class="form-range" min="100" max="250" value="160" id="rangeAltura" name="altura">
              </div>
              <div class="mb-4 col-md-6">
                <label for="pesoInput" class="form-label fs-5">Peso*</label>
                <input type="number" id="pesoInput" class="form-control form-control-lg">
                <label for="rangePeso" class="form-label fs-5 mt-3">Peso</label>
                <input type="range" class="form-range" min="30" max="200" value="60" id="rangePeso" name="peso">
              </div>
            </div>
            <button type="submit" class="btn btn-light btn-lg w-100 mt-3">Calcular</button>
          </div>
        </div>
      </div>
    </div>
  </div>
</form>

{% if resultado %}
<div class="container-fluid">
  <div class="row justify-content-center">
    <div class="col-12 col-lg-5">
      <div class="card shadow rounded-4 mt-3" style="background-color: #f3e6ff;">
        <div class="card-body text-center">
          <h4 class="card-title text-dark">Resultado</h4>
          <p class="fs-5 text-dark">{{ resultado }}</p>
        </div>
      </div>
    </div>
  </div>
</div>
{% endif %}


  <script>
    const edadInput = document.getElementById('edadInput');
    const rangeedad = document.getElementById('rangeedad');
    edadInput.value = rangeedad.value;
    rangeedad.addEventListener('input', () => edadInput.value = rangeedad.value);
    edadInput.addEventListener('input', () => rangeedad.value = edadInput.value);

    const alturaInput = document.getElementById('alturaInput');
    const rangeAltura = document.getElementById('rangeAltura');
    alturaInput.value = rangeAltura.value;
    rangeAltura.addEventListener('input', () => alturaInput.value = rangeAltura.value);
    alturaInput.addEventListener('input', () => rangeAltura.value = alturaInput.value);

    const pesoInput = document.getElementById('pesoInput');
    const rangePeso = document.getElementById('rangePeso');
    pesoInput.value = rangePeso.value;
    rangePeso.addEventListener('input', () => pesoInput.value = rangePeso.value);
    pesoInput.addEventListener('input', () => rangePeso.value = pesoInput.value);
  </script>
  </body>
{% endblock %}